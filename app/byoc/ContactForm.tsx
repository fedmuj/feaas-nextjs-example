'use client'
import * as FEAAS from '@sitecore-feaas/clientside/react'
import React, { useState } from 'react';  
import { Box, Button, Flex, FormControl, FormLabel, Heading, Input, Textarea } from '@chakra-ui/react';  
  
const ContactForm = () => {  
  const [name, setName] = useState('');  
  const [email, setEmail] = useState('');  
  const [message, setMessage] = useState('');  
  
  const handleSubmit = (e) => {  
    e.preventDefault();  
    const payload = {  
      name: name,  
      email: email  
    };  
    fetch('https://api.moosend.com/v3/subscribers/dc0828be-7fab-40b3-8d15-975d06cd5999/subscribe.json?apikey=0857607a-09be-49c6-a271-61ddfd2b1c75', {  
      method: 'POST',  
      headers: {  
        'Content-Type': 'application/json'  
      },  
      body: JSON.stringify(payload)  
    })  
      .then(response => response.json())  
      .then(data => {  
        // handle success response here  
      })  
      .catch(error => {  
        // handle error response here  
      });  
  };  
  
  return (  
    <Box  
      w="100%"  
      maxW="400px"  
      p={4}  
      borderWidth={1}  
      borderRadius="md"  
      boxShadow="md"  
    >  
      <Heading as="h2" size="lg" mb={4}>Contact Us</Heading>  
      <form onSubmit={handleSubmit}>  
        <FormControl mb={4}>  
          <FormLabel>Name</FormLabel>  
          <Input type="text" name="name" value={name} onChange={(e) => setName(e.target.value)} />  
        </FormControl>  
        <FormControl mb={4}>  
          <FormLabel>Email</FormLabel>  
          <Input type="email" name="email" value={email} onChange={(e) => setEmail(e.target.value)} />  
        </FormControl>  
        <FormControl mb={4}>  
          <FormLabel>Message</FormLabel>  
          <Textarea name="message" value={message} onChange={(e) => setMessage(e.target.value)} />  
        </FormControl>  
        <Button type="submit" colorScheme="blue">Submit</Button>  
      </form>  
    </Box>  
  );  
};  

FEAAS.registerComponent(ContactForm , {
  name: 'contact-form',
  title: 'ContactForm',
  description: 'This is a Contact Form Generated by AI',
  thumbnail: 'https://mss-p-006-delivery.stylelabs.cloud/api/public/content/3e14b5b5fb714d2e8a0ba9d7a1b0d8f3',
  group: 'AI Generated Components',
  required: [],
  properties: {}
})

export default ContactForm;  
